# データ構造

## スタック

LIFOのデータ構造。
これをPythonで連結リストを使って実現したい。

### なぜ単方向連結リストでスタックが表現できるのか

単方向連結リストは次の要素への参照を持つ。
追加(push)は末尾要素の次の要素への参照を逐一更新していくだけでよい。

削除(pop)は末尾の1つ前の要素の、次への参照を空にする処理が要る。
これは、1つ前の要素を保持しておけば解決できる。
1つ前の要素は、現在要素を次々更新していくときに、あわせて1つ前の要素も遅れて更新させることで取得できる。

### 実装

疑似コードで大まかな流れを整理。

```Python

# 連結リストによるスタックを表現するためのクラスを作成
class Stack:
    # プロパティには、要素・次への参照を持つ
    
    # push/popをメソッドに持ち、それぞれでスタックを操作
    # pushは末尾(nextが空)に到達するまで参照を更新し、末尾へ新たに作成したStackのインスタンスを追加
    # popは同様に末尾まで参照を更新 あわせて1つ前の要素を保持しておく 末尾に到達したら、末尾の要素を返却し、1つ前の要素の次への参照を空とすることで削除を表現 
    pass
```


## キュー

いわゆる待ち行列。FIFOのデータ構造をもつ。

### いかにして単方向連結リストでキューを表現するか

スタックとは逆の動きをとるので、先頭が重要である。
Pythonではself自体を書き換えるのはダメそう。
ということで、先頭は単に次の要素への参照を持ち、要素が削除(dequeue)される度に参照を更新していく。

あとはスタックと同じ考え方で実現できるはず。

### 実装

疑似コードで流れを整理。

```Python

# 単方向連結リストによるキューを表現するためのクラスを作成
class Queue:
    # プロパティには、要素・次への参照を持つ
    
    # enqueue/dequeueをメソッドに持ち、それぞれでキューを操作
    # enqueueはpushと同じ
    # dequeueは、先頭の次の要素を返却値とし、次への参照を更に次のものへ書き換え
    # こうすることで、先頭の返却/削除を表現
    pass
```


## 木構造